# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–¥–µ—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. ü§∑üèª‚Äç‚ôÇÔ∏è

–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –¥–æ–±–∞–≤–∏—Ç—å –°–µ–∫—Ä–µ—Ç—ã —Å –∞–¥—Ä–µ—Å–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

–î–æ–±–∞–≤–ª—è–µ–º.

**Manage Jenkins** - **Manage Credentials**.

–í —Ä–∞–∑–¥–µ–ª–µ **Stores scoped to Jenkins** –∂–º–µ–º –Ω–∞ **Jenkins**, –∞ –∑–∞—Ç–µ–º **Global credentials (unrestricted)**.

–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ–∫–Ω–æ **Global credentials (unrestricted)**.

–í –ª–µ–≤–æ–π —á–∞—Å—Ç–∏ –∂–º–µ–º –Ω–∞ –∫–Ω–æ–ø–∫—É **Add Credentials**.

–î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É.

**Kind** - Secret text.

**Secret** - –ü—É—Ç—å –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É.

**ID** - –ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞.

**Description** - –û–ø–∏—Å–∞–Ω–∏–µ.

–î–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

**Kind** - Username with password.

**Username** - –õ–æ–≥–∏–Ω.

**Password** - –ü–∞—Ä–æ–ª—å.

**ID** - –ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞.

**Description** - –û–ø–∏—Å–∞–Ω–∏–µ.

 

–¢–µ–ø–µ—Ä—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ `jobConfiguration.json` –¥–ª—è Jenkins –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ. –í —ç—Ç–æ–º –∂–µ —Ñ–∞–π–ª–µ —É–∫–∞–∑—ã–≤–∞–µ–º `"initSteps": true`.

![Alt text](images/Jenkins-initsteps-true.png)

–í–∫–ª—é—á–∏–≤ —ç—Ç–∞–ø `initSteps` –º–æ–∂–µ—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –æ—à–∏–±–∫–∞ **Temporary failure in name resolution**. –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–º–µ–Ω–∏ –∏ ip, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ hosts.  —ç—Ç–æ–≥–æ –∏–¥–µ–º –≤ **Manage Jenkins** - **Manage nodes and clouds** - **Configure Clouds**, —Å–ø—É—Å–∫–∞–µ–º—Å—è –≤–Ω–∏–∑ –∏ –∂–º–µ–º **Docker Agent templates...**. –í –æ—Ç–∫—Ä—ã–≤—à–µ–º—Å—è —Å–ø–∏—Å–∫–µ –Ω–∞–π—Ç–∏ **Additional hosts (newline-separated)**, –≤ —ç—Ç–æ–º –ø–æ–ª–µ –≤–Ω–µ—Å—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è.

![Alt text](images/jenkins-Additional-hosts.png)

–ï—Å–ª–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–æ –≤ —Å–µ—Ç–µ–≤–æ–π –ø–∞–ø–∫–µ –∏ –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Ö—Ä–∞–Ω–∏–ª–∏—â (—Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —Ç–∞–∫), —Ç–æ –ø—Ä–∏–¥–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ç–µ–≤—É—é –ø–∞–ø–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –¥–æ–∫–µ—Ä–æ–º, –∞ –ø–æ—Ç–æ–º –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å volume –∫ —ç—Ç–æ–π –ø–∞–ø–∫–µ.

–ù—É –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –∞–≥–µ–Ω—Ç–æ–º 1—Å –ø—Ä–∏–¥–µ—Ç—Å—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å.

–ú–æ–Ω—Ç–∏—Ä—É–µ–º
```
sudo mount -t cifs -o username=sergey,password=123,domain=yourdomain,uid=1000,iocharset=utf8,file_mode=0777,dir_mode=0777 //192.168.10.50/1crepository /var/onecrep
```

–°–æ–∑–¥–∞–µ–º volume –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å –∫–ª–∏–µ–Ω—Ç–æ–º

–ò–¥–µ–º –≤ –ø–∞–ø–∫—É —Å –ø—Ä–æ–µ–∫—Ç–æ–º `onec-docker`, –∑–∞—Ç–µ–º `jankins-agent`.

–í —Ñ–∞–π–ª–µ `Dockerfile` –¥–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ–∫—É

```dockerfile
VOLUME /var/onecrep /var/onecrep
```
![Alt text](images/Jenkins-agent-volume-mount.png)

–ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (—Å–º. —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª).

–¢–µ–ø–µ—Ä—å –≤ –¥–∂–µ–Ω–∫–∏–Ω—Å–µ –∞—Å—Å–æ—Ü–∏–∏—Ä—É–µ–º volume –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –ø—É—Ç–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Jenkins:

**Manage Jenkins** - **Manage nodes and clouds** - **Configure Clouds**.

–ñ–º–µ–º Docker Agent templates –∏ –≤ —à–∞–±–ª–æ–Ω–µ —Å –ø–ª–∞—Ç—Ñ—Ä–º–æ–π (–Ω–æ–º–µ—Ä –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ labels) –∏—â–µ–º —Ä–∞–∑–¥–µ–ª 

**Host Binds (newline-separated)**. –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ–∫—É

```
/var/onecreperp:/var/onecrep/erp
```

–ü–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–æ.

–ï—Å–ª–∏ –ª–∏—Ü–µ–Ω–∑–∏–∏ 1–° —Ä–∞–∑–¥–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä, —Ç–æ –ø—Ä–∏–¥–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É—é –±–∞–∑—É.

–°–æ–∑–¥–∞–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—É—Å—Ç—É—é –±–∞–∑—É 1—Å –∏ –¥–æ–±–∞–≤–ª—è–µ–º –µ—â–µ –æ–¥–∏–Ω —Å–µ–∫—Ä–µ—Ç **tempBasePath**.


–°–µ–∫—Ä–µ—Ç —Å —Ç–∏–ø–æ–º —Å—Ç—Ä–æ–∫–∞. –§–æ—Ä–º–∞—Ç —Å–ª–µ–¥—É—é—â–∏–π:

```
/SMYServerh:1541/MyBase
```

`SMYServerh` - –ò–º—è —Å–µ—Ä–≤–µ—Ä–∞

`1541` - –ü–æ—Ä—Ç

`MyBase` - –ò–º—è –±–∞–∑—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ì–æ—Ç–æ–≤–æ.

 