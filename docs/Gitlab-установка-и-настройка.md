# ü¶ä Gitlab, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:

[Provision gitlab-ce on docker with Portainer - GeralexGR](https://blog.geralexgr.com/cloud/provision-gitlab-ce-on-docker-with-portainer)

[GitLab Docker images | GitLab](https://docs.gitlab.com/ee/install/docker.html)

–ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏. –ï—Å–ª–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤–∏—Ä—Ç—É–∞–ª–∫–∏ –≤—ã–¥–µ–ª–∏–ª–∏ –ø–æ –æ—Å—Ç–∞—Ç–æ—á–Ω–æ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É, —Ç–æ —Å–∞–º–æ–µ –≤—Ä–µ–º—è —É–≤–µ–ª–∏—á–∏—Ç—å —Å–≤–æ–ø - [Ubuntu - –£–≤–µ–ª–∏–µ–Ω–∏–µ swap](ubuntu-—É–≤–µ–ª–∏–µ–Ω–∏–µ-swap).

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Gitlab –≤–æ–∑–º–æ–∂–Ω–∞ –∏–∑ —à–∞–±–ª–æ–Ω–æ–≤ Portainer –∏–ª–∏ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å—É —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.

## 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ —à–∞–±–ª–æ–Ω–∞ Portainer

–ü–æ–∫–∞ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±.

–û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É Portainer. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –≤ —Ä–∞–∑–¥–µ–ª App Templates.

–í –ø–æ–∏—Å–∫–µ –Ω–∞–±—Ä–∞—Ç—å gitlab –∏ –≤–∫–ª—é—á–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.
![Alt text](images/Gitlab-install-Template.png)

–í—ã–±—Ä–∞—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —É–∫–∞–∑–∞—Ç—å –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ (gitlab) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ.

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –Ω–µ–º—É –º–æ–∂–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É —Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø–æ—Ä—Ç–∞, —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
![Alt text](images/Gitlab-installed-container-list.png)

–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–∞—Ä–æ–ª—å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `root`. –≠—Ç–æ—Ç –ø–∞—Ä–æ–ª—å —É–∫–∞–∑–∞–Ω –≤ —Ñ–∞–π–ª–µ `initial_root_password`, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `/etc/gitlab`.

–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∞–π–ª –º–æ–∂–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ Volumes
![Alt text](images/Gitlab-volumes.png)

–í—ã–±—Ä–∞–≤ –Ω—É–∂–Ω—ã–π —Ç–æ–º, –º–æ–∂–µ–º —Å–∫–∞—á–∞—Ç—å –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∞–π–ª.
![Alt text](images/Gitlab-initial-root-password.png)


## 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑ —à–∞–±–ª–æ–Ω–∞

–í–æ–∑–º–æ–∂–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑ —à–∞–±–ª–æ–Ω–∞, –µ—Å–ª–∏ –æ–Ω–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è —Ñ–∞–µ—Ä–≤–æ–ª–ª–æ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä.

–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

```powershell
sudo docker run --detach   --hostname gitlab   --publish 10443:443 --publish 1080:80 --publish 1022:22   --name gitlab   --restart always   --volume $GITLAB_HOME/config:/etc/gitlab   --volume $GITLAB_HOME/logs:/var/log/gitlab   --volume $GITLAB_HOME/data:/var/opt/gitlab   --shm-size 256m   gitlab/gitlab-ce:latest
 ```

